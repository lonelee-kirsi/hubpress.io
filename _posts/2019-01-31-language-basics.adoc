= 语言基础: Java系列
:hp-image: /covers/cover.png
:published_at: 2019-01-31
:hp-tags: Java,
:hp-alt-title: language basics
:description: 测试
:toc:
:toc-title: 目录

测试2

== 变量

IMPORTANT: 变量比字段的概念范围更大。成员包括类型字段、方法、嵌套类型

=== 类型
实例变量(非静态字段):: 无`static`声明的字段。对象将各自状态存储在此变量中，它的值对每个对象唯一。
类变量（静态字段）:: 用`static`声明的字段。实例化后的该变量始终是类变量的副本。可用final声明指示该字段无法改变。
局部变量:: 方法体中声明的变量。方法常将临时状态存储于此变量，此变量只对声明它的方法可见，而无法从类的其他地方访问。
参数:: 方法接收的变量。

=== 命名
* 大小写敏感。以字母或美元符或下划线开头，由无限长度的Unicode字母及数字组成。避免使用美元符与下划线。不允许空格。
* 语义化，以此提高自注释性。不用 关键字与保留字。
* 一个单词用小驼峰法，多单词用大驼峰法，常量用大写下划线法。

=== 数据类型

IMPORTANT: Java 语言为静态类型

.原始数据类型
|===
|类型 |说明 |值范围 |应用场景| 默认值

|byte
|8位有符二进制补码
|(-128,127]
|内存需求大时，用于大数组中节省内存
|0

|short
|16位有符二进制补码
|(-32768,32767]
|同byte
|0

|int
|默认时为32位有符二进制补码，8以上版本可用Integer类表示无符32位整数。可用Interger类的compareUnsigned、divideUnsigne等静态方法支持无符整数的算术运算。
|有符(-231,231-1),无符(0,232-1)
|
|0

|long
|64位二进制补码。8以上版本可表示无符64位长整数。可用Long类的compareUnsigned、divideUnsigne等方法支持无符长整数的算术运算。
|有符(-263,263-1),无符(0,264-1)
|需要的值比int大时
|0L

|float
|单精度32位IEEE754标准浮点数
|https://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.2.3[文档^]
|内存需求大时，用于浮点数大数组中节省内存。不应用于精确值（如货币），而应用java.math.BigDecimal类
|0.0f

|double
|双精度64位IEEE754标准浮点数
|https://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.2.3[文档^]
|用于十进制值。不应用于精确值（如货币），而应用java.math.BigDecimal类
|0.0d

|boolean
|1位信息，但长度不确定
|true，false
|跟踪true/false条件的简单标志
|false

|char
|16位Unicode字符
|('\u0000' ,'\uffff']或(0,65535]
|
|'\u0000'
|===

==== 引用类型
Java语言通过Java.lang.String对字符串提供支持。用双引号包裹字符串会创建一个不可变字符串对象。

IMPORTANT: 默认值只对字段有效。对象的默认值是null

TIP: 声明变量时保证初始化是好的编程风格

=== 字面值
==== 整数字面值
`long`类型需以`L`或`l`结尾，推荐`L`,防止与`1`混淆。

.支持进制
|===
|进制 |语法 |备注

|十进制
|整数
|最常用

|十六进制
|`0x`前缀
|

|二进制
|`0b`前缀
|7以上版本
|===
==== 浮点字面值
`float` 类型以`F`或`f`结尾，`double`类型以`D`或`d`结尾（可省略,默认）。

小数或科学记数法。

==== 数值字面值中使用下划线(7以上版本)
只能分隔数字。用于将数字分组，提高可读性。

==== 字符与字符串字面值
`char`类型用````包裹，`String`类型用`""`包裹。

Unicode（UTF-16）字符，若编辑器、文件系统不支持，使用Unicode转义。Unicode转义也可用于其他地方（如字段名）。

.支持的特殊转义序列
|===
|语法 |说明

|\b
|退格

|\t
|制表

|\n
|换行

|\f
|换页

|\r
|回车

|\"
|双引号

|\'
|单引号

|\\
|反斜杠
|===

==== null字面值
用于引用数据类型，表明某对象不可用。

==== 类字面值
语法为数据类型+`.class`，引用的是对象的类型。

=== 数组
数组是保持一个固定数量的单类型值的容器对象。数组创建时长度是既定的，创建后长度是固定的。

数组中的每一项称为元素，元素通过数字索引访问，索引从`0`开始。

==== 声明变量来引用数组
数据类型[] 数组名

数据类型 数组名[]，不推荐

==== 创建、初始化、访问数组
创建：new 数据类型[长度]

初始化：数组名[索引] = 值

创建并初始化：={元素1,元素2}

多维数组：数据类型[][] 数组名={{},{}},多个数组构成的数组集合，这使它的各行长度可不同。

可通过`length`属性访问数组长度。

==== 复制数组

.`System`类的`arraycopy`方法
[source,java]
----
public static void arraycopy(
  Object src, // <1>
  int srcPos, // <2>
  Object dest, // <3>
  int destPos, // <4>
  int length // <5>
)
----
<1> 要复制的数组
<2> 源数组的起始位置
<3> 复制出的数组
<4> 目标数组的起始位置
<5> 复制的元素数量

==== 数组操作
`java.util.Arrays`类的几个方法可用于数组常见操作（如复制、排序、检索）。
|===
|方法 | 说明

|copyOfRange
|完全或局部复制数组

|binarySearch
|获取数组中一个值的索引

|equals
|比较两个数组是否相等

|fill
|以一个值填充整个数组

|sort
|非并发升序数组

|parallelSort（8版本）
|并发升序数组
|===

TIP: 多处理器系统中，使用并发升序比非并发速度更快

== 运算符
=== 优先级
向下降序，同行同优先级
|===
|运算符类型 |运算符 

|后缀
|++,--

|一元
|++,--,+,-,~,!

|倍数
|*,/,%

|加减
|+,-

|位
|<<, `>>` , `>>>` 

|等式
|==,!=

|按位与
|&

|按位异或
|^

|按位或
| 

|逻辑与
|&&

|逻辑或
| `||`

|三元
|?,:

|赋值
|=,+=,-=,*=,/=,%=,&=,^=,`|=`,<<=,>>=,>>>=
|===

IMPORTANT: 同优先级时，运算顺序为赋值运算符从右到左，其他二元运算符从左到右

=== 部分运算符说明
|===
|运算符 |说明

|+
|一元运算符时，为取正。二元运算符时，为加法，也可用于字符串连接

|-
|一元运算符时，为取负。二元运算符时，为减法

|前缀++、--
|运算后返回变化值

|后缀++、--
|运算后返回原始值

|？：
|相当于`if-then-else`的简写法，在表达式紧凑且不造成副作用时使用（如赋值），可提高可读性

|类型比较运算符`instanceof`
|将对象与指定类型比较，用于判断对象是否是类的实例、是否是子类的实例、是否是实现特定接口的类的实例。注意`null`不是实例。
|===


[IMPORTANT]
====
只用于增减时，选择前缀还是后缀++、--并不重要，但用于复合表达式时需多加小心。

条件运算符需注意短路现象。

====

位与位移运算符（用于整数类型）
|===
|运算符 |说明

|~
|取反

|<<
|有符左移

|`>>`
|有符右移

|`>>>`
|无符右移，右移后在最左置0
|===


== 参考
* http://docs.oracle.com/javase/tutorial/java/nutsandbolts/index.html[官方文档^]
